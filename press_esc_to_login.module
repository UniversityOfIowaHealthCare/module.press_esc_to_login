<?php

/**
 * Implements hook_help().
 */
function press_esc_to_login_help($route_name, $route_match) {
  switch ($route_name) {
    case 'help.page.press_esc_to_login':
      return t('Press the escape key (ESC) from any page to quickly navigate to the admin login page.');
  }
}

/**
 * Implements hook_page_attachments().
 */
function press_esc_to_login_page_attachments(&$page) {
  $userNotLoggedIn = \Drupal::currentUser()->isAnonymous();

  if ($userNotLoggedIn) {
    global $base_url;

    $page['#attached']['library'][] = 'press_esc_to_login/press_esc_to_login';
    $page['#attached']['drupalSettings']['pressEscToLogin']['loginPath'] = $base_url . '/user';
  }
}
